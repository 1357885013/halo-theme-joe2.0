!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var o in a)("object"==typeof exports?exports:e)[o]=a[o]}}(self,(function(){return e=function(){for(var e=document.getElementsByTagName("halo-comment"),t=$("html").attr("data-mode"),a=0;a<e.length;a++){var o=e[a].shadowRoot.getElementById("halo-comment");$(o)["".concat("light"===t?"remove":"add","Class")]("dark")}},document.addEventListener("DOMContentLoaded",(function(){var t=$(".joe_header__above-nav a"),a=$(".panel-side-menu .link"),o=0,n=location.pathname;n&&"/"!==n&&t.each((function(e,t){n.indexOf(t.getAttribute("href"))>-1&&(o=e)})),t.eq(o).addClass("current"),a.eq(o).addClass("current");var i=$("html"),s=$(".mode-light"),c=$(".mode-dark");if(ThemeConfig.static_theme)i.attr("data-mode",ThemeConfig.static_theme);else if(ThemeConfig.enable_auto_switch_theme){var r=sessionStorage.getItem("data-mode");if(localStorage.removeItem("data-mode",h),r)i.attr("data-mode",r),"light"===r?(s.removeClass("active"),c.addClass("active")):(s.addClass("active"),c.removeClass("active"));else{var d=ThemeConfig.dark_time_scope.split("~"),l=new Date,_=l.toLocaleString().split(" ")[0];"light"==(h=l>=new Date(_+" "+d[0])&&l<=new Date(_+" "+d[1])?"light":"dark")?(s.removeClass("active"),c.addClass("active")):(s.addClass("active"),c.removeClass("active")),i.attr("data-mode",h),sessionStorage.setItem("data-mode",h)}}else{var h=localStorage.getItem("data-mode")||"light";$(".mode-"+("light"===h?"dark":"light")).addClass("active"),i.attr("data-mode",h)}if(e(),$(".joe_action_item.mode").on("click",(function(){var t=ThemeConfig.enable_auto_switch_theme?sessionStorage:localStorage,a="";(r=t.getItem("data-mode"))?"light"===r?(a="dark",c.removeClass("active"),s.addClass("active")):(a="light",s.removeClass("active"),c.addClass("active")):(a="dark",s.removeClass("active"),c.addClass("active")),i.attr("data-mode",a),t.setItem("data-mode",a),e()})),ThemeConfig.enabel_music_player&&$.ajax({url:"https://api.i-meto.com/meting/api?server=netease&type=playlist&id=".concat(ThemeConfig.music_id),type:"GET",dataType:"json",success:function(e){new APlayer({container:document.getElementById("global-aplayer"),fixed:!0,lrcType:3,theme:"#1989fa",autoplay:!0,audio:e})},error:function(e){console.log(e)}}),Joe.IS_MOBILE||"off"===Joe.DYNAMIC_BACKGROUND||!Joe.DYNAMIC_BACKGROUND||Joe.WALLPAPER_BACKGROUND_PC||$.getScript(window.Joe.THEME_URL+"assets/backdrop/".concat(Joe.DYNAMIC_BACKGROUND)),ThemeConfig.favicon){var m=new Favico,v=new Image;v.onload=function(){m.image(v)},v.src=ThemeConfig.favicon}$(".joe_header__above-search .input").on("click",(function(e){e.stopPropagation(),$(".joe_header__above-search .result").addClass("active")})),$(document).on("click",(function(){$(".joe_header__above-search .result").removeClass("active")})),$(".joe_dropdown").each((function(e,t){var a=this,o=$(this).find(".joe_dropdown__menu"),n=$(t).attr("trigger")||"click",i=$(t).attr("placement")||$(this).height()||0;o.css("top",i),"hover"===n?$(this).hover((function(){return $(a).addClass("active")}),(function(){return $(a).removeClass("active")})):($(this).on("click",(function(e){var t=this;$(this).toggleClass("active"),$(document).one("click",(function(){return $(t).removeClass("active")})),e.stopPropagation()})),o.on("click",(function(e){return e.stopPropagation()})))}));var f=null,u=function(){return(document.documentElement.scrollTop||document.body.scrollTop)>300?$(".joe_action_item.scroll").addClass("active"):$(".joe_action_item.scroll").removeClass("active")};if(u(),$(document).on("scroll",(function(){clearTimeout(f),f=setTimeout(u,80)})),$(".joe_action_item.scroll").on("click",(function(){return window.scrollTo({top:0,behavior:"smooth"})})),$(".joe_aside__item.timelife").length){var g=[{title:"今日已经过去",endTitle:"小时",num:0,percent:"0%"},{title:"这周已经过去",endTitle:"天",num:0,percent:"0%"},{title:"本月已经过去",endTitle:"天",num:0,percent:"0%"},{title:"今年已经过去",endTitle:"个月",num:0,percent:"0%"}],p=(+new Date-new Date((new Date).toLocaleDateString()).getTime())/1e3/60/60,C=p/24*100;g[0].num=parseInt(p),g[0].percent=parseInt(C)+"%";var j={0:7,1:1,2:2,3:3,4:4,5:5,6:6}[(new Date).getDay()],w=j/7*100;g[1].num=parseInt(j),g[1].percent=parseInt(w)+"%";var b=(new Date).getFullYear(),y=(new Date).getDate(),D=(new Date).getMonth()+1,T=y/new Date(b,D,0).getDate()*100;g[2].num=y,g[2].percent=parseInt(T)+"%";var F=(new Date).getMonth()+1,k=F/12*100;g[3].num=F,g[3].percent=parseInt(k)+"%";var E="";g.forEach((function(e,t){E+='\n\t\t\t\t\t\t<div class="item">\n\t\t\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t\t\t'.concat(e.title,'\n\t\t\t\t\t\t\t\t<span class="text">').concat(e.num,"</span>\n\t\t\t\t\t\t\t\t").concat(e.endTitle,'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress">\n\t\t\t\t\t\t\t\t<div class="progress-bar">\n\t\t\t\t\t\t\t\t\t<div class="progress-bar-inner progress-bar-inner-').concat(t,'" style="width: ').concat(e.percent,'"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="progress-percentage">').concat(e.percent,"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>")})),$(".joe_aside__item.timelife .joe_aside__item-contain").html(E)}if($(".joe_aside__item.weather").length){var I=$(".joe_aside__item.weather").attr("data-key"),S=$(".joe_aside__item.weather").attr("data-style");window.WIDGET={CONFIG:{layout:2,width:"220",height:"270",background:S,dataColor:{1:"FFFFFF",2:"4A4A4A",3:"FFFFFF"}[S],language:"zh",key:I}},$.getScript("https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0")}if($(".joe_aside__item.tags").length){var M=[],x=["#F8D800","#0396FF","#EA5455","#7367F0","#32CCBC","#F6416C","#28C76F","#9F44D3","#F55555","#736EFE","#E96D71","#DE4313","#D939CD","#4C83FF","#F072B6","#C346C2","#5961F9","#FD6585","#465EFB","#FFC600","#FA742B","#5151E5","#BB4E75","#FF52E5","#49C628","#00EAFF","#F067B4","#F067B4","#ff9a9e","#00f2fe","#4facfe","#f093fb","#6fa3ef","#bc99c4","#46c47c","#f9bb3c","#e8583d","#f68e5f"];$(".joe_aside__item-contain .list li").each((function(e,t){var a,o;M.push({label:$(t).attr("data-label"),url:$(t).attr("data-url"),target:"_blank",fontColor:x[(a=0,o=x.length-1,a=Math.ceil(a),o=Math.floor(o),Math.floor(Math.random()*(o-a+1))+a)],fontSize:15})})),$(".joe_aside__item-contain .tag").svg3DTagCloud({entries:M,width:220,height:220,radius:"65%",radiusMin:75,bgDraw:!1,fov:800,speed:.5,fontWeight:500})}if("off"!==Joe.LIVE2D&&Joe.LIVE2D&&$.getScript("https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js",(function(){L2Dwidget.init({model:{jsonPath:Joe.LIVE2D,scale:1},mobile:{show:!1},display:{position:"right",width:160,height:200,hOffset:70,vOffset:0}})})),ThemeConfig.enable_offscreen_tip){var L,O=document.title;document.addEventListener("visibilitychange",(function(){location.href.indexOf(ThemeConfig.blog_url)>0||"/"!==location.pathname||(document.hidden?(document.title=ThemeConfig.offscreen_title_leave||"歪，你去哪里了？",clearTimeout(L)):(document.title=ThemeConfig.offscreen_title_back||"(つェ⊂)咦，又回来了!",L=setTimeout((function(){document.title=O}),2e3)))}))}$(".joe_header__above-slideicon").on("click",(function(){$(".joe_header__searchout").removeClass("active"),$(".joe_header__slideout").hasClass("active")?($("body").css("overflow",""),$(".joe_header__mask").removeClass("active slideout"),$(".joe_header__slideout").removeClass("active")):($("body").css("overflow","hidden"),$(".joe_header__mask").addClass("active slideout"),$(".joe_header__slideout").addClass("active"))})),$(".joe_header__above-searchicon").on("click",(function(){$(".joe_header__slideout").removeClass("active"),$(".joe_header__searchout").hasClass("active")?($("body").css("overflow",""),$(".joe_header__mask").removeClass("active slideout"),$(".joe_header__searchout").removeClass("active")):($("body").css("overflow","hidden"),$(".joe_header__mask").addClass("active"),$(".joe_header__searchout").addClass("active"))})),$(".joe_header__mask").on("click",(function(){$("body").css("overflow",""),$(".joe_header__mask").removeClass("active slideout"),$(".joe_header__searchout").removeClass("active"),$(".joe_header__slideout").removeClass("active")})),$(".joe_header__slideout-menu .current").parents(".panel-body").show().siblings(".panel").addClass("in"),$(".joe_header__slideout-menu .panel").on("click",(function(){var e=$(this).parent().parent();e.find(".panel").not($(this)).removeClass("in"),e.find(".panel-body").not($(this).siblings(".panel-body")).stop().hide("fast"),$(this).toggleClass("in").siblings(".panel-body").stop().toggle("fast")}));var A=function(){var e=new Date(ThemeConfig.birthday),t=(+new Date-e.getTime())/864e5,a=Math.floor(t),o=24*(t-a),n=Math.floor(o),i=60*(o-n),s=Math.floor(i),c=60*(i-s),r=Math.floor(c);t=String(a).padStart(2,0),o=String(n).padStart(2,0),i=String(s).padStart(2,0),c=String(r).padStart(2,0),$(".joe_run__day").html(t),$(".joe_run__hour").html(o),$(".joe_run__minute").html(i),$(".joe_run__second").html(c)};if(ThemeConfig.birthday&&/(\d{4})\/(\d{1,2})\/(\d{1,2}) (\d{1,2})\:(\d{1,2})\:(\d{1,2})/.test(ThemeConfig.birthday)&&(A(),setInterval(A,1e3)),$(".joe_owo__contain").length&&$(".joe_owo__target").length&&$.ajax({url:window.Joe.THEME_URL+"assets/json/joe.owo.json",dataType:"json",success:function(e){var t="",a="",o=function(o){var n=e[o];t+='<div class="item" data-type="'.concat(o,'">').concat(o,"</div>"),a+='\n                            <ul class="scroll" data-type="'.concat(o,'">\n\t\t\t\t\t\t\t\t').concat(n.map((function(e){return'<li class="item" data-text="'.concat(e.data,'">').concat("颜文字"===o?"".concat(e.icon):'<img src="'.concat(window.Joe.THEME_URL+e.icon,'" alt="').concat(e.data,'"/>'),"</li>")})).join(""),"\n                            </ul>\n                        ")};for(var n in e)o(n);$(".joe_owo__contain").html('\n                        <div class="seat">OωO</div>\n                        <div class="box">\n                            '.concat(a,'\n                            <div class="bar">').concat(t,"</div>\n                        </div>\n                    ")),$(document).on("click",(function(){$(".joe_owo__contain .box").stop().slideUp("fast")})),$(".joe_owo__contain .seat").on("click",(function(e){e.stopPropagation(),$(this).siblings(".box").stop().slideToggle("fast")})),$(".joe_owo__contain .box .bar .item").on("click",(function(e){e.stopPropagation(),$(this).addClass("active").siblings().removeClass("active");var t='.joe_owo__contain .box .scroll[data-type="'+$(this).attr("data-type")+'"]';$(t).show().siblings(".scroll").hide()})),$(".joe_owo__contain .scroll .item").on("click",(function(){var e=$(this).attr("data-text");$(".joe_owo__target").insertContent(e)})),$(".joe_owo__contain .box .bar .item").first().click()}}),!window.Joe.IS_MOBILE){var B=!0,J=function(e){if(window.pageYOffset>=$(".joe_header").height()&&e<=0){if(B)return;$(".joe_header").addClass("active"),$(".joe_aside .joe_aside__item:last-child").css("top",$(".joe_header").height()-60+15),B=!0}else{if(!B)return;$(".joe_header").removeClass("active"),$(".joe_aside .joe_aside__item:last-child").css("top",$(".joe_header").height()+15),B=!1}},P=window.pageYOffset;J(P);var N=Date.now();document.addEventListener("scroll",(function(){var e=Date.now();e-N>15&&(J(P-window.pageYOffset),P=window.pageYOffset),N=e}))}})),{};var e}));