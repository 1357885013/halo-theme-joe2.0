!function(n,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var t=i();for(var e in t)("object"==typeof exports?exports:n)[e]=t[e]}}(self,(function(){return(()=>{"use strict";var n={};(n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})})(n);var i=function n(i,t,e,a){!function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),this.name=i,this.description=t,this.category=e,this.style=a},t=[new i("baiyan","白眼","bilibili",{"animation-duration":"1800ms","animation-timing-function":"steps(45)",transform:"translateY(-1408px)",height:"1440px"}),new i("fadai","发呆","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new i("koubi","抠鼻","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new i("qinqin","亲亲","bilibili",{"animation-duration":"280ms","animation-timing-function":"steps(7)",transform:"translateY(-192px)",height:"224px"}),new i("weiqu","委屈","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("bishi","鄙视","bilibili",{"animation-duration":"360ms","animation-timing-function":"steps(9)",transform:"translateY(-256px)",height:"288px"}),new i("fanu","发怒","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new i("kun","困","bilibili",{"animation-duration":"1760ms","animation-timing-function":"steps(44)",transform:"translateY(-1376px)",height:"1408px"}),new i("se","色","bilibili",{"animation-duration":"400ms","animation-timing-function":"steps(10)",transform:"translateY(-288px)",height:"320px"}),new i("weixiao","微笑","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("bizui","闭嘴","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new i("ganga","尴尬","bilibili",{"animation-duration":"1520ms","animation-timing-function":"steps(38)",transform:"translateY(-1184px)",height:"1216px"}),new i("lengmo","冷漠","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("shengbing","生病","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new i("wunai","无奈","bilibili",{"animation-duration":"920ms","animation-timing-function":"steps(23)",transform:"translateY(-704px)",height:"736px"}),new i("chan","馋","bilibili",{"animation-duration":"1600ms","animation-timing-function":"steps(40)",transform:"translateY(-1248px)",height:"1280px"}),new i("guilian","鬼脸","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("liubixue","流鼻血","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new i("shengqi","生气","bilibili",{"animation-duration":"440ms","animation-timing-function":"steps(11)",transform:"translateY(-320px)",height:"352px"}),new i("xiaoku","笑哭","bilibili",{"animation-duration":"600ms","animation-timing-function":"steps(15)",transform:"translateY(-448px)",height:"480px"}),new i("daku","大哭","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new i("guzhang","鼓掌","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new i("liuhan","流汗","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new i("shuizhao","睡着","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new i("xieyanxiao","斜眼笑","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new i("dalao","大佬","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new i("haixiu","害羞","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px))",height:"992px"}),new i("liulei","流泪","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("sikao","思考","bilibili",{"animation-duration":"1440ms","animation-timing-function":"steps(36)",transform:"translateY(-1120px)",height:"1152px"}),new i("yiwen","疑问","bilibili",{"animation-duration":"840ms","animation-timing-function":"steps(21)",transform:"translateY(-640px)",height:"672px"}),new i("dalian","打脸","bilibili",{"animation-duration":"1480ms","animation-timing-function":"steps(37)",transform:"translateY(-1152px)",height:"1184px"}),new i("heirenwenhao","黑人问号","bilibili",{"animation-duration":"1040ms","animation-timing-function":"steps(26)",transform:"translateY(-800px)",height:"832px"}),new i("miantian","腼腆","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new i("tiaokan","调侃","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("yun","晕","bilibili",{"animation-duration":"480ms","animation-timing-function":"steps(12)",transform:"translateY(-352px)",height:"384px"}),new i("dianzan","点赞","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("huaixiao","坏笑","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new i("mudengkoudai","目瞪口呆","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("tiaopi","调皮","bilibili",{"animation-duration":"2000ms","animation-timing-function":"steps(50)",transform:"translateY(-1568px)",height:"1600px"}),new i("zaijian","再见","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new i("doge","狗头","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("jingxia","惊吓","bilibili",{"animation-duration":"1280ms","animation-timing-function":"steps(32)",transform:"translateY(-992px)",height:"1024px"}),new i("nanguo","难过","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new i("touxiao","偷笑","bilibili",{"animation-duration":"240ms","animation-timing-function":"steps(6)",transform:"translateY(-160px)",height:"192px"}),new i("zhoumei","皱眉","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("facai","发财","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new i("keai","可爱","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new i("outu","呕吐","bilibili",{"animation-duration":"1680ms","animation-timing-function":"steps(42)",transform:"translateY(-1312px)",height:"1344px"}),new i("tuxue","吐血","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new i("zhuakuang","抓狂","bilibili",{"animation-duration":"760ms","animation-timing-function":"steps(19)",transform:"translateY(-576px)",height:"608px"})],e=[new i("(⌒▽⌒)","(⌒▽⌒)","menhera"),new i("(￣▽￣)","(￣▽￣)","menhera"),new i("(=・ω・=)","(=・ω・=)","menhera"),new i("(｀・ω・´)","(｀・ω・´)","menhera"),new i("(〜￣△￣)〜","(〜￣△￣)〜","menhera"),new i("(･∀･)","(･∀･)","menhera"),new i("(°∀°)ﾉ","(°∀°)ﾉ","menhera"),new i("(￣3￣)","(￣3￣)","menhera"),new i("╮(￣▽￣)╭","╮(￣▽￣)╭","menhera"),new i("(´_ゝ｀)","(´_ゝ｀)","menhera"),new i("←_←","←_←","menhera"),new i("→_→","→_→","menhera"),new i("(<_<)","(<_<)","menhera"),new i("(>_>)","(>_>)","menhera"),new i("(;¬_¬)","(;¬_¬)","menhera"),new i("(▔□▔)/","(▔□▔)/","menhera"),new i("(ﾟДﾟ≡ﾟдﾟ)!?","(ﾟДﾟ≡ﾟдﾟ)!?","menhera"),new i("Σ(ﾟдﾟ;)","Σ(ﾟдﾟ;)","menhera"),new i("Σ(￣□￣||)","Σ(￣□￣||)","menhera"),new i("(’；ω；‘)","(’；ω；‘)","menhera"),new i("（/TДT)/","（/TДT)/","menhera"),new i("(^・ω・^ )","(^・ω・^ )","menhera"),new i("(｡･ω･｡)","(｡･ω･｡)","menhera"),new i("(●￣(ｴ)￣●)","(●￣(ｴ)￣●)","menhera"),new i("ε=ε=(ノ≧∇≦)ノ","ε=ε=(ノ≧∇≦)ノ","menhera"),new i("(’･_･‘)","(’･_･‘)","menhera"),new i("(-_-#)","(-_-#)","menhera"),new i("（￣へ￣）","（￣へ￣）","menhera"),new i("(￣ε(#￣)Σ","(￣ε(#￣)Σ","menhera"),new i("ヽ(‘Д’)ﾉ","ヽ(‘Д’)ﾉ","menhera"),new i("（#-_-)┯━┯","（#-_-)┯━┯","menhera"),new i("(╯°口°)╯(┴—┴","(╯°口°)╯(┴—┴","menhera"),new i("←◡←","←◡←","menhera"),new i("( ♥д♥)","( ♥д♥)","menhera"),new i("_(:3」∠)_","_(:3」∠)_","menhera"),new i("Σ>―(〃°ω°〃)♡→","Σ>―(〃°ω°〃)♡→","menhera"),new i("⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","menhera"),new i("(╬ﾟдﾟ)▄︻┻┳═一","(╬ﾟдﾟ)▄︻┻┳═一","menhera"),new i("･*･:≡(　ε:)","･*･:≡(　ε:)","menhera"),new i("(笑)","(笑)","menhera"),new i("(汗)","(汗)","menhera"),new i("(泣)","(泣)","menhera"),new i("(苦笑)","(苦笑)","menhera")],a=[new i("tongue","吐舌","tieba"),new i("theblackline","尴尬","tieba"),new i("tear","大哭","tieba"),new i("surprised","惊哭","tieba"),new i("surprised2","惊讶","tieba"),new i("spray","喷","tieba"),new i("spit","呕吐","tieba"),new i("smilingeyes","笑眼","tieba"),new i("shui","睡","tieba"),new i("shame","羞辱","tieba"),new i("se","色","tieba"),new i("rmb","钱","tieba"),new i("reluctantly","勉强","tieba"),new i("rbq","观望","tieba"),new i("niconiconit","niconiconit","tieba"),new i("niconiconi","niconiconi","tieba"),new i("niconiconi_t","niconiconi-t","tieba"),new i("naive","naive","tieba"),new i("ku","ku","tieba"),new i("huaji","huaji","tieba"),new i("hu","hu","tieba"),new i("han","han","tieba"),new i("haha","haha","tieba"),new i("good","good","tieba"),new i("doubt","doubt","tieba"),new i("britan","britan","tieba"),new i("bbd","bbd","tieba"),new i("awesome","awesome","tieba"),new i("anger","anger","tieba"),new i("aa","aa","tieba"),new i("Happy","Happy","tieba"),new i("Grievance","Grievance","tieba")],r=[].concat(t,e,a),o={_version:"1.0.0",isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},timeAgo:function(n){if(!n)return"未知时间";n=new Date(n).getTime();var i=(new Date).getTime()-n,t=Math.floor(i/864e5);if(0===t){var e=i%864e5,a=Math.floor(e/36e5);if(0===a){var r=e%36e5,s=Math.floor(r/6e4);if(0===s){var m=r%6e4,l=Math.round(m/1e3);return l<1?"刚刚":l+" 秒前"}return s+" 分钟前"}return a+" 小时前"}return t<0?"刚刚":1===t?"昨天":o.formatDate(n,"yyyy年MM月dd日 hh:mm")},formatDate:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";n=new Date(n),/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var t={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var e in t)if(new RegExp("(".concat(e,")")).test(i)){var a=t[e]+"";i=i.replace(RegExp.$1,1===RegExp.$1.length?a:a.padStart(2,"0"))}return i},getNavLangSub:function(){var n=navigator.language;return(n=n.substr(0,2))||(n=navigator.browserLanguage),n},request:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2?arguments[2]:void 0;return new Promise((function(e,a){$.ajax({url:"".concat(n,"?_r=").concat(Date.now()),type:i.toUpperCase(),headers:{"API-Authorization":ThemeConfig.access_key||"joe2.0"},dataType:"json",timeout:1e4,data:t,success:function(n){200===n.status&&n.data?e(n.data):a(n)},error:function(n){var i=n&&n.responseJSON?n.responseJSON.message:"出错了！";Qmsg.error(i),a(i)}})}))},throttle:function(n){var i,t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){var a=this,r=Array.prototype.slice.call(arguments),o=Date.now();t&&t+e>o?(clearTimeout(i),i=null,i=setTimeout((function(){t=o,n.apply(a,r)}),e)):(t=o,n.apply(a,r))}},setCookie:function(n,i,t){var e=n+o._version,a="";if(t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),a="; expires="+r.toUTCString()}document.cookie=e+"="+(i||"")+a+"; path=/"},getCookie:function(n){for(var i=n+o._version+"=",t=document.cookie.split(";"),e=0;e<t.length;e++){for(var a=t[e];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(i))return a.substring(i.length,a.length)}return null},removeCookie:function(n){var i=n+o._version+"=";document.cookie=i+"=; Max-Age=-99999999;"},setLocalStorage:function(n){function i(i,t){return n.apply(this,arguments)}return i.toString=function(){return n.toString()},i}((function(n,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3600,e=n+o._version,a=new Date;try{localStorage.setItem(e,JSON.stringify({expires:a.valueOf()+1e3*t,data:i}))}catch(e){"QuotaExceededError"===e.name&&(console.log("数据已满，自动清空"),localStorage.clear(),setLocalStorage(n,i,t))}})),getLocalStorage:function(n){var i=n+o._version,t=JSON.parse(localStorage.getItem(i)),e=new Date;return t&&t.expires>e?t.data:(localStorage.removeItem(i),null)},removeLocalStorage:function(n){var i=n+o._version;localStorage.removeItem(i)},loadJS:function(n,i){o._loadRes("script",n,i)},loadCSS:function(n,i){o._loadRes("link",n,i)},_loadRes:function(n,i,t){var e,a=t||function(){};switch(n){case"script":(e=document.createElement(n)).type="text/javascript",e.src=i;break;case"link":(e=document.createElement(n)).type="text/css",e.type="stylesheet",e.href=i;break;default:return void console.warn("暂不支持："+n+" 类型")}e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,a())}:e.onload=function(){a()},document.getElementsByTagName("head")[0].appendChild(e)},getRandomColor:function(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i||(i=0),t||(t=0),i=isNaN(i)?0:Number(i),t=isNaN(t)?1:Number(t),i=Math.min(Math.max(Math.abs(i),0),1),t=(t=Math.min(Math.max(Math.abs(t),0),1))<i?1:t,"#"+(n=(16777216*(Math.random()*(t-i)+i)<<0).toString(16),new Array(7-n.length).join("0")+n)},getNearestKeyframe:function(n,i){var t=this._search(n.times,i);return{index:t,milliseconds:table.times[t],fileposition:table.filepositions[t]}},_search:function(n,i){var t=0,e=n.length-1,a=0,r=0,o=e;for(i<n[0]&&(t=0,r=o+1);r<=o;){if((a=r+Math.floor((o-r)/2))===e||i>=n[a]&&i<n[a+1]){t=a;break}n[a]<i?r=a+1:o=a-1}return t},removeClassByPrefix:function(n,i){var t=n.className.split(" ").filter((function(n){return 0!==n.lastIndexOf(i,0)}));n.className=t.join(" ").trim()},renderedEmojiHtml:function(n){for(var i=new DOMParser,t=o.removeNotEmoji(i.parseFromString(n,"text/html")),e=t.getElementsByClassName("emotion-item"),a=0;a<e.length;a++)for(var s=e[a].getAttribute("data-icon"),m=0;m<r.length&&(r[m].name!==s||"break"!==function(){var n=r[m],i=e[a].getElementsByClassName("img")[0],t="";return Object.keys(n.style).forEach((function(i){t+=i+":"+n.style[i]+";"})),i.style.cssText=t,"break"}());m++);return t.body.innerHTML},trimTailBr:function(n){return n.replace(/((\s|&nbsp;)*\r?\n)+$/g,"")},limitBr:function(n){return n.replace(/((\s|&nbsp;)*\r?\n){3,}/g,"\r\n\r\n")},trimHeadBr:function(n){return n.replace(/^((\s|&nbsp;)*\r?\n)+/g,"")},removeNotEmoji:function(n){for(var i=n.getElementsByClassName("smilies"),t=!0,e=0;e<i.length;e++){var a=i[e].dataset.icon;if(!o.findEmoji("tieba",a)){t=!1;break}}if(t)return n;var r=i[0],s=r.dataset.icon;return o.findEmoji("tieba",s)||removeNode(r),o.removeNotEmoji(n)},removeNode:function(n){var i=n.getAttribute("alt"),t=document.createTextNode(i);n.parentNode.replaceChild(t,n)},findEmoji:function(n,i){return r.filter((function(t){return t.category===n&&t.name===i})).length>0},return2Br:function(n){return n=o.trimHeadBr(n),n=o.trimTailBr(n),(n=o.limitBr(n)).replace(/\r?\n/g,"<br />")}};return window.Utils=o,n})()}));