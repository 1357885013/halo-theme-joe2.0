var Util={_version:"1.0.0",timeAgo:function(time){if(!time)return"未知时间";time=new Date(time).getTime();var between=(new Date).getTime()-time,days=Math.floor(between/864e5);if(0===days){var leave1=between%864e5;if(0===Math.floor(leave1/36e5)){var leave2=leave1%36e5,minutes=Math.floor(leave2/6e4);if(0===minutes){var leave3=leave2%6e4,seconds=Math.round(leave3/1e3);return seconds<1?"刚刚":seconds+" 秒前"}return minutes+" 分钟前"}return Util.formatDate(time,"今天 hh:mm")}return days<0?"刚刚":1===days?"昨天":Util.formatDate(time,"yyyy年MM月dd日 hh:mm")},formatDate:function(date,fmt){date=new Date(date),/(y+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,(date.getFullYear()+"").substr(4-RegExp.$1.length)));let o={"M+":date.getMonth()+1,"d+":date.getDate(),"h+":date.getHours(),"m+":date.getMinutes(),"s+":date.getSeconds()};for(let k in o)if(new RegExp(`(${k})`).test(fmt)){let str=o[k]+"";fmt=fmt.replace(RegExp.$1,1===RegExp.$1.length?str:Util.padLeftZero(str))}return fmt},padLeftZero:function(str){return("00"+str).substr(str.length)},getNavLangSub:function(){var currentLang=navigator.language;return(currentLang=currentLang.substr(0,2))||(currentLang=navigator.browserLanguage),currentLang},setCookie:function(key,value,days){var keyVE=key+Util._version,expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=keyVE+"="+(value||"")+expires+"; path=/"},getCookie:function(key){for(var keyVE=key+Util._version+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(keyVE))return c.substring(keyVE.length,c.length)}return null},removeCookie:function(key){var keyVE=key+Util._version+"=";document.cookie=keyVE+"=; Max-Age=-99999999;"},setLocalStorage:function(key,value,expires=3600){var keyVE=key+Util._version,date=new Date;try{localStorage.setItem(keyVE,JSON.stringify({expires:date.valueOf()+1e3*expires,data:value}))}catch(e){"QuotaExceededError"===e.name&&(console.log("数据已满，自动清空"),localStorage.clear(),setLocalStorage(key,value,expires))}},getLocalStorage:function(key){var keyVE=key+Util._version,result=JSON.parse(localStorage.getItem(keyVE)),date=new Date;return result&&result.expires>date?result.data:(localStorage.removeItem(keyVE),null)},removeLocalStorage:function(key){var keyVE=key+Util._version;localStorage.removeItem(keyVE)},loadJS:function(url,callback){Util._loadRes("script",url,callback)},loadCSS:function(url,callback){Util._loadRes("link",url,callback)},_loadRes:function(type,url,callback){var dom,fn=callback||function(){};switch(type){case"script":(dom=document.createElement(type)).type="text/javascript",dom.src=url;break;case"link":(dom=document.createElement(type)).type="text/css",dom.type="stylesheet",dom.href=url;break;default:return void console.warn("暂不支持："+type+" 类型")}dom.readyState?dom.onreadystatechange=function(){"loaded"!=dom.readyState&&"complete"!=dom.readyState||(dom.onreadystatechange=null,fn())}:dom.onload=function(){fn()},document.getElementsByTagName("head")[0].appendChild(dom)},getRandomColor:function(min=0,max=1){return min||(min=0),max||(max=0),min=isNaN(min)?0:Number(min),max=isNaN(max)?1:Number(max),min=Math.min(Math.max(Math.abs(min),0),1),max=(max=Math.min(Math.max(Math.abs(max),0),1))<min?1:max,"#"+(h=(16777216*(Math.random()*(max-min)+min)<<0).toString(16),new Array(7-h.length).join("0")+h);var h},getNearestKeyframe:function(keyframesIndex,milliseconds){var keyframeIdx=this._search(keyframesIndex.times,milliseconds);return{index:keyframeIdx,milliseconds:table.times[keyframeIdx],fileposition:table.filepositions[keyframeIdx]}},_search:function(list,value){var idx=0,last=list.length-1,mid=0,lbound=0,ubound=last;for(value<list[0]&&(idx=0,lbound=ubound+1);lbound<=ubound;){if((mid=lbound+Math.floor((ubound-lbound)/2))===last||value>=list[mid]&&value<list[mid+1]){idx=mid;break}list[mid]<value?lbound=mid+1:ubound=mid-1}return idx},removeClassByPrefix:function(el,prefix){var classes=el.className.split(" ").filter((function(c){return 0!==c.lastIndexOf(prefix,0)}));el.className=classes.join(" ").trim()}},Toast=function(){_classCallCheck(this,Toast),this._t=null,this._timeOut=null,this._settings={duration:2e3,width:260,height:60,top:"top",background:"#fe9600",color:"#fff","font-size":14},Toast.prototype.init=function(opt){!function(o1,o2){for(var attr in o2)o1[attr]=o2[attr]}(this._settings,opt)},Toast.prototype.create=function(text,duration){if(this._timeOut&&(clearTimeout(this._timeOut),document.body.removeChild(this._t),this._t=null),text){this._t=document.createElement("div"),this._t.className="t-toast",this._t.innerHTML='<p class="message"><span>'+text+"</span></p>",document.body.appendChild(this._t),this.setStyle();var _that=this;this._timeOut=setTimeout((function(){document.body.removeChild(_that._t),_that._timeOut=null,_that._t=null}),duration||this._settings.duration)}else console.error("提示文本不能为空")},Toast.prototype.setStyle=function(){this._t.style.width=this._settings.width+"px",this._t.style.height=this._settings.height+"px",this._t.style.position="fixed",this._t.style["text-align"]="center",this._t.style["z-index"]="20200531",isNaN(Number(this._settings.top))?"centent"==this._settings.top?this._t.style.top=document.documentElement.clientHeight/2+"px":"top"==this._settings.top&&(this._t.style.top="0px"):this._t.style.top=this._settings.top+"px",this._t.style.left="50%",this._t.style["margin-left"]="-"+this._settings.width/2+"px",this._t.style.background=this._settings.background,this._t.style.color=this._settings.color,this._t.style["border-bottom-left-radius"]="4px",this._t.style["border-bottom-right-radius"]="4px",this._t.style["font-size"]=this._settings["font-size"]+"px",this._t.style.display="flex",this._t.style["justify-content"]="center",this._t.style["align-items"]="center"}},Log={e:function(msg,tag){tag&&!Log.FORCE_GLOBAL_TAG||(tag=Log.GLOBAL_TAG);let str=`[${tag}] > ${msg}`;Log.ENABLE_ERROR&&(console.error?console.error(str):console.warn?console.warn(str):console.log(str))},i:function(msg,tag){tag&&!Log.FORCE_GLOBAL_TAG||(tag=Log.GLOBAL_TAG);let str=`[${tag}] > ${msg}`;Log.ENABLE_INFO&&(console.info?console.info(str):console.log(str))},w:function(msg,tag){tag&&!Log.FORCE_GLOBAL_TAG||(tag=Log.GLOBAL_TAG);let str=`[${tag}] > ${msg}`;Log.ENABLE_WARN&&(console.warn?console.warn(str):console.log(str))},d:function(msg,tag){tag&&!Log.FORCE_GLOBAL_TAG||(tag=Log.GLOBAL_TAG);let str=`[${tag}] > ${msg}`;Log.ENABLE_DEBUG&&(console.debug?console.debug(str):console.log(str))},v:function(msg,tag){tag&&!Log.FORCE_GLOBAL_TAG||(tag=Log.GLOBAL_TAG);let str=`[${tag}] > ${msg}`;Log.ENABLE_VERBOSE&&console.log(str)},GLOBAL_TAG:"Joe2.0",FORCE_GLOBAL_TAG:!1,ENABLE_ERROR:!0,ENABLE_INFO:!0,ENABLE_WARN:!0,ENABLE_DEBUG:!0,ENABLE_VERBOSE:!0},RuntimeException=function(message){this._message=message,RuntimeException.prototype={get name(){return"RuntimeException"},get message(){return this._message},toString(){return this.name+": "+this.message}}};